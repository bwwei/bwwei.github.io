<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<style type=text/css>body{font-family:monospace;}</style>
	<title>怎么使用hugo？</title>
	
	
	<link rel="stylesheet" href="/css/style.css">
	
</head>
<body>
	

<header>
	<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>
	==================<br>
	== <a href="http://bwwei.github.io/">bwwei&#39;s blog</a> ==<br>
	==================
	<div style="float: right;"></div><br>
	<p>
	<nav>
			<a href="/"><b>Start</b></a>.	
			
</header>



	
	<main>
		<article>
			<h1>怎么使用hugo？</h1>
			<b><time>04.09.2019 13:16</time></b>
		       
		           <a href="/tags/hugo">hugo</a>
        	       

			<div>
				<p>希望好久不碰hugo的自己看到这篇文章能回想起怎么使用hugo做一个博客。</p>
<h2 id="删除github中的commit记录">删除GitHub中的commit记录</h2>
<p>因为不熟悉git的命令, 所以每次上传到github page以后, commit可谓是乱七八糟, 非常恶心, 我对此非常苦恼.</p>
<h3 id="我的方法">我的方法</h3>
<p>我和大多数新手一样，每次上传新文章用的都是官方教程里的命令, 可一不小心, commit里就多些奇怪的东西.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ cd public 	<span style="color:#75715e"># 来到存放网页的文件夹里</span>
$ git pull origin master		<span style="color:#75715e"># 将远程仓库里面的垃圾拉下来</span>
$ git rm -r --cached .			<span style="color:#75715e"># 删除所有的垃圾</span>
$ cd ..			<span style="color:#75715e"># 回到博客的根目录</span>
$ hugo			<span style="color:#75715e"># 生成网页默认存放在public文件夹里</span>
$ cd public
$ git commit -m <span style="color:#e6db74">&#39;updated&#39;</span>		<span style="color:#75715e"># 提交,添加操作说明</span>
$ git push -u origin master     <span style="color:#75715e"># 上传到仓库</span>
</code></pre></div><p>因为我不了解git, 只会用一些最基础的命令. 所以我的方法看来可能会很可笑.</p>
<p>我删除了<code>public</code>文件夹中的<code>.git</code>, 然后执行了下面这几条命令, 应该是相当于把仓库给重置了.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">git init
git remote add origin git@github.com:user/repo
git add *
git commit -am <span style="color:#e6db74">&#39;clear!!&#39;</span>
git push -f origin master		<span style="color:#75715e">#强制更新到GitHub</span>
</code></pre></div><p>我的方法是在<a href="https://cloud.tencent.com/developer/ask/30403">这里</a>找到的，但同时，我这么做可能会出问题, 下面这个才应该是正确的做法.</p>
<blockquote>
<p>删除<code>.git</code>文件夹可能会导致git存储库中的问题。如果要删除所有提交历史记录，但将代码保持在当前状态，可以按照以下方式安全地执行此操作：</p>
<ol>
<li><code>尝试 运行 git checkout --orphan latest_branch</code></li>
<li>添加所有文件<code>git add -A</code></li>
<li>提交更改<code>git commit -am &quot;commit message&quot;</code></li>
<li>删除分支<code>git branch -D master</code></li>
<li>将当前分支重命名<code>git branch -m master</code></li>
<li>最后，强制更新存储库。<code>git push -f origin master</code></li>
</ol>
</blockquote>

			</div>
		</article>
	</main>
<aside>
	<div>
		<div>
			<h3>LATEST POSTS</h3>
		</div>
		<div>
			<ul>
				
				<li><a href="/posts/4.1-%E5%8D%8A%E5%AF%BC%E4%BD%93%E4%B8%AD%E7%9A%84%E8%BD%BD%E6%B5%81%E5%AD%90/">半导体中的载流子</a></li>
				
				<li><a href="/posts/s10e/">三星S10e，不太优秀，只是它没有对手</a></li>
				
			</ul>
		</div>
	</div>
</aside>


	<footer>
	<p>&copy; 2020 <a href="http://bwwei.github.io/"><b>bwwei&#39;s blog</b></a>.
	</p>
</footer>

</body>
</html>
